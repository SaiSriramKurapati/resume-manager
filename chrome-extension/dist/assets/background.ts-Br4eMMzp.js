chrome.runtime.onMessage.addListener((e,t,r)=>{var a;if(e.type==="SESSION_UPDATED"){chrome.storage.local.set({supabaseSession:e.session},()=>{});return}if(e.type==="SESSION_LOGGED_OUT"){chrome.storage.local.remove("supabaseSession",()=>{});return}if(e.type==="FORWARD_TO_CONTENT_SCRIPT")return(a=t.tab)!=null&&a.id?chrome.tabs.sendMessage(t.tab.id,e.payload,o=>{chrome.runtime.lastError?r({status:"failed",error:chrome.runtime.lastError.message}):r(o)}):r({status:"failed",error:"Sender tab ID not found."}),!0});chrome.action.onClicked.addListener(e=>{chrome.tabs.sendMessage(e.id,{type:"TOGGLE_RESUME_MANAGER"})});
